<?php/** * @see Beausy_Service_Paypal_Data_Abstract */require_once 'Beausy/Service/Paypal/Data/Abstract.php';/** * * Beausy * * @author    Beau Hastings <beausy@gmail.com> * @copyright Beau Hastings * @license   GNU GPL version 2 {@link http://www.gnu.org/licenses/gpl-2.0.html} * */class Beausy_Service_Paypal_Data_PaymentDetailsType extends Beausy_Service_Paypal_Data_Abstract{  const PAYMENTACTION_SALE  = 'Sale';  const PAYMENTACTION_AUTH  = 'Authorization';  const PAYMENTACTION_ORDER = 'Order';  /**   * Payment number or index   * @var integer   */  private $_paymentIndex = 0;  /**   * The total cost of the transaction to the customer   * @var string   */  private $_amount;  /**   *   * @var string   */  private $_currencyCode = 'USD';  /**   *   * @var string   */  private $_itemAmount;  /**   *   * @var string   */  private $_shippingAmount;  /**   *   * @var string   */  private $_insuranceAmount;  /**   *   * @var string   */  private $_shippingDiscountAmount;  /**   *   * @var string   */  private $_insuranceOptionOffered;  /**   *   * @var string   */  private $_handlingAmount;  /**   *   * @var string   */  private $_taxAmount;  /**   *   * @var string   */  private $_description;  /**   *   * @var string   */  private $_custom;  /**   *   * @var string   */  private $_invoiceNumber;  /**   *   * @var string   */  private $_notifyUrl;  /**   *   * @var string   */  private $_noteText;  /**   *   * @var string   */  private $_softDescription;  /**   *   * @var string   */  private $_transactionId;  /**   *   * @var string   */  private $_allowedPaymentMethod = 'InstantPaymentOnly';  /**   *   * @var string   */  private $_paymentAction = 'Sale';  /**   *   * @var string   */  private $_paymentRequestId;  /**   * Set payment index   *   * @param   int  $value   * @return  Beausy_Service_Paypal_Data_PaymentDetailsType   */  public function setPaymentIndex($value)  {    $value = (int) $value;    $this->_paymentIndex = $value;    return $this;  }  /**   * Retrieve payment index   * @return int   */  public function getPaymentIndex()  {    return $this->_paymentIndex;  }  /**   * Set   *   * @param   string  $value   * @return  Beausy_Service_Paypal_Data_PaymentDetailsType   */  public function setAmount($value)  {    $this->_amount = $value;    return $this;  }  /**   * Retrieve   * @return string   */  public function getAmount()  {    return $this->_amount;  }  /**   * Set   *   * @param   string  $value   * @return  Beausy_Service_Paypal_Data_PaymentDetailsType   */  public function setCurrencyCode($value)  {    $this->_currencyCode = $value;    return $this;  }  /**   * Retrieve   * @return string   */  public function getCurrencyCode()  {    return $this->_currencyCode;  }  /**   * Set   *   * @param   string  $value   * @return  Beausy_Service_Paypal_Data_PaymentDetailsType   */  public function setItemAmount($value)  {    $this->_itemAmount = $value;    return $this;  }  /**   * Retrieve   * @return string   */  public function getItemAmount()  {    return $this->_itemAmount;  }  /**   * Set   *   * @param   string  $value   * @return  Beausy_Service_Paypal_Data_PaymentDetailsType   */  public function setShippingAmount($value)  {    $this->_shippingAmount = $value;    return $this;  }  /**   * Retrieve   * @return string   */  public function getShippingAmount()  {    return $this->_shippingAmount;  }  /**   * Set   *   * @param   string  $value   * @return  Beausy_Service_Paypal_Data_PaymentDetailsType   */  public function setInsuranceAmount($value)  {    $this->_insuranceAmount = $value;    return $this;  }  /**   * Retrieve   * @return string   */  public function getInsuranceAmount()  {    return $this->_insuranceAmount;  }  /**   * Set   *   * @param   string  $value   * @return  Beausy_Service_Paypal_Data_PaymentDetailsType   */  public function setShippingDiscountAmount($value)  {    $this->_shippingDiscountAmount = $value;    return $this;  }  /**   * Retrieve   * @return string   */  public function getShippingDiscountAmount()  {    return $this->_shippingDiscountAmount;  }  /**   * Set   *   * @param   string  $value   * @return  Beausy_Service_Paypal_Data_PaymentDetailsType   */  public function setInsuranceOptionOffered($value)  {    $this->_insuranceOptionOffered = $value;    return $this;  }  /**   * Retrieve   * @return string   */  public function getInsuranceOptionOffered()  {    return $this->_insuranceOptionOffered;  }  /**   * Set   *   * @param   string  $value   * @return  Beausy_Service_Paypal_Data_PaymentDetailsType   */  public function setHandlingAmount($value)  {    $this->_handlingAmount = $value;    return $this;  }  /**   * Retrieve   * @return string   */  public function getHandlingAmount()  {    return $this->_handlingAmount;  }  /**   * Set   *   * @param   string  $value   * @return  Beausy_Service_Paypal_Data_PaymentDetailsType   */  public function setTaxAmount($value)  {    $this->_taxAmount = $value;    return $this;  }  /**   * Retrieve   * @return string   */  public function getTaxAmount()  {    return $this->_taxAmount;  }  /**   * Set   *   * @param   string  $value   * @return  Beausy_Service_Paypal_Data_PaymentDetailsType   */  public function setDescription($value)  {    $this->_description = $value;    return $this;  }  /**   * Retrieve   * @return string   */  public function getDescription()  {    return $this->_description;  }  /**   * Set   *   * @param   string  $value   * @return  Beausy_Service_Paypal_Data_PaymentDetailsType   */  public function setCustom($value)  {    $this->_custom = $value;    return $this;  }  /**   * Retrieve   * @return string   */  public function getCustom()  {    return $this->_custom;  }  /**   * Set   *   * @param   string  $value   * @return  Beausy_Service_Paypal_Data_PaymentDetailsType   */  public function setInvoiceNumber($value)  {    $this->_invoiceNumber = $value;    return $this;  }  /**   * Retrieve   * @return string   */  public function getInvoiceNumber()  {    return $this->_invoiceNumber;  }  /**   * Set   *   * @param   string  $value   * @return  Beausy_Service_Paypal_Data_PaymentDetailsType   */  public function setNotifyUrl($value)  {    $this->_notifyUrl = $value;    return $this;  }  /**   * Retrieve   * @return string   */  public function getNotifyUrl()  {    return $this->_notifyUrl;  }  /**   * Set   *   * @param   string  $value   * @return  Beausy_Service_Paypal_Data_PaymentDetailsType   */  public function setNoteText($value)  {    $this->_noteText = $value;    return $this;  }  /**   * Retrieve   * @return string   */  public function getNoteText()  {    return $this->_noteText;  }  /**   * Set   *   * @param   string  $value   * @return  Beausy_Service_Paypal_Data_PaymentDetailsType   */  public function setSoftDescription($value)  {    $this->_softDescription = $value;    return $this;  }  /**   * Retrieve   * @return string   */  public function getSoftDescription()  {    return $this->_softDescription;  }  /**   * Set   *   * @param   string  $value   * @return  Beausy_Service_Paypal_Data_PaymentDetailsType   */  public function setTransactionId($value)  {    $this->_transactionId = $value;    return $this;  }  /**   * Retrieve   * @return string   */  public function getTransactionId()  {    return $this->_transactionId;  }  /**   * Set   *   * @param   string  $value   * @return  Beausy_Service_Paypal_Data_PaymentDetailsType   */  public function setAllowedPaymentMethod($value)  {    $this->_allowedPaymentMethod = $value;    return $this;  }  /**   * Retrieve   * @return string   */  public function getAllowedPaymentMethod()  {    return $this->_allowedPaymentMethod;  }  /**   * Set   *   * @param   string  $value   * @return  Beausy_Service_Paypal_Data_PaymentDetailsType   */  public function setPaymentAction($value)  {    $this->_paymentAction = $value;    return $this;  }  /**   * Retrieve   * @return string   */  public function getPaymentAction()  {    return $this->_paymentAction;  }  /**   * Set   *   * @param   string  $value   * @return  Beausy_Service_Paypal_Data_PaymentDetailsType   */  public function setPaymentRequestId($value)  {    $this->_paymentRequestId = $value;    return $this;  }  /**   * Retrieve   * @return string   */  public function getPaymentRequestId()  {    return $this->_paymentRequestId;  }  /**   * Returns this class as an array   *   * @return array   */  public function toArray()  {    $array = array();    $array['PAYMENTREQUEST_'.$this->_paymentIndex.'_AMT']           = $this->_amount;    $array['PAYMENTREQUEST_'.$this->_paymentIndex.'_ITEMAMT']       = $this->_itemAmount;    $array['PAYMENTREQUEST_'.$this->_paymentIndex.'_PAYMENTACTION'] = $this->_paymentAction;    if ($this->_paymentAction != 'Order')      $array['PAYMENTREQUEST_'.$this->_paymentIndex.'_SOFTDESCRIPTOR'] = $this->_softDescription;    // Optional fields (key=PayPal field name, value=internal variable name)    $optional = array(      array('prefix' => 'PAYMENTREQUEST_', 'suffix' => '_CURRENCYCODE',           'variable' => '_currencyCode'),      array('prefix' => 'PAYMENTREQUEST_', 'suffix' => '_SHIPPINGAMT',            'variable' => '_shippingAmount'),      array('prefix' => 'PAYMENTREQUEST_', 'suffix' => '_INSURANCEAMT',           'variable' => '_insuranceAmount'),      array('prefix' => 'PAYMENTREQUEST_', 'suffix' => '_SHIPPINGDISCAMT',        'variable' => '_shippingDiscountAmount'),      array('prefix' => 'PAYMENTREQUEST_', 'suffix' => '_INSURANCEOPTIONOFFERED', 'variable' => '_insuranceOptionOffered'),      array('prefix' => 'PAYMENTREQUEST_', 'suffix' => '_HANDLINGAMT',            'variable' => '_handlingAmount'),      array('prefix' => 'PAYMENTREQUEST_', 'suffix' => '_TAXAMT',                 'variable' => '_taxAmount'),      array('prefix' => 'PAYMENTREQUEST_', 'suffix' => '_DESC',                   'variable' => '_description'),      array('prefix' => 'PAYMENTREQUEST_', 'suffix' => '_CUSTOM',                 'variable' => '_custom'),      array('prefix' => 'PAYMENTREQUEST_', 'suffix' => '_INVNUM',                 'variable' => '_invoiceNumber'),      array('prefix' => 'PAYMENTREQUEST_', 'suffix' => '_NOTETEXT',               'variable' => '_noteText'),      array('prefix' => 'PAYMENTREQUEST_', 'suffix' => '_TRANSACTIONID',          'variable' => '_transactionId'),      array('prefix' => 'PAYMENTREQUEST_', 'suffix' => '_ALLOWEDPAYMENTMETHOD',   'variable' => '_allowedPaymentMethod'),      array('prefix' => 'PAYMENTREQUEST_', 'suffix' => '_PAYMENTREQUESTID',       'variable' => '_paymentRequestId'),    );    // Apply optional options and append item index number to each key as required by the PayPal API    foreach($optional as $option)      if (isset($this->$option['variable']))        $array[$option['prefix'] . $this->_paymentIndex . $option['suffix']] = $this->$option['variable'];    return $array;  }}